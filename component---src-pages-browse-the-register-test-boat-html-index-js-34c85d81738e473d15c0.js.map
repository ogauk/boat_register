{"version":3,"sources":["webpack:///./src/pages/browse_the_register/test_boat.html/index.js"],"names":["BoatPage","location","id","URLSearchParams","search","get","b","useAxios","useEffect","data","document","title","result","pageContext","boat","name","oga_no","loading","error","href","origin","linkComponent","Link"],"mappings":"8FAAA,wHAMe,SAASA,GAAS,SAAEC,IAE/B,MACMC,EADS,IAAIC,gBAAgBF,EAASG,QAC1BC,IAAI,WAEfC,GAAKC,YACT,uDAAsDL,oBASzD,GANAM,oBAAU,KACJF,EAAEG,OACHC,SAASC,MAAS,GAAEL,EAAEG,KAAKG,OAAOC,YAAYC,KAAKC,SAAST,EAAEG,KAAKG,OAAOC,YAAYC,KAAKE,aAI5FV,EAAEW,QAAS,OAAO,yCACtB,GAAIX,EAAEY,MACF,OAAIhB,EACQ,sGAEsBA,EAC1B,0DAA+B,uBAAGiB,KAAMlB,EAASmB,QAAlB,eAG3B,sJAGJ,gDAAqB,uBAAGD,KAAMlB,EAASmB,QAAlB,eAKjC,MAAMN,EAAOR,EAAEG,KAAKG,OAAOC,YAAYC,KAEvC,OACA,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAaA,KAAMA,EAAMb,SAAUA,EAAUoB,cAAeC","file":"component---src-pages-browse-the-register-test-boat-html-index-js-34c85d81738e473d15c0.js","sourcesContent":["import React, { useEffect } from \"react\"\nimport useAxios from 'axios-hooks'\nimport { Link } from 'gatsby';\nimport BoatWrapper from '../../../components/boatwrapper';\nimport OGAProvider from '../../../util/gql';\n\nexport default function BoatPage({ location }) {\n  \n    const params = new URLSearchParams(location.search);\n    const id = params.get('oga_no');\n  \n    const [b] = useAxios(\n      `https://ogauk.github.io/boatregister/page-data/boat/${id}/page-data.json`\n    )\n  \n    useEffect(() => {\n      if (b.data) {\n         document.title = `${b.data.result.pageContext.boat.name} (${b.data.result.pageContext.boat.oga_no})`;\n      }\n    });\n  \n    if (b.loading) return <p>Loading...</p>\n    if (b.error) {\n        if (id) {\n            return (<div>\n                Sorry, we had a problem getting the data for\n                the boat with OGA number {id}\n                <p>Please try searching on the <a href={location.origin}>Main Page</a></p>\n                </div>);\n        } else {\n            return (<div>\n                If you were looking for a specific boat and know its OGA Number,\n                you can add ?oga_no=1 or any other number to the url.\n                <p>Otherwise try the <a href={location.origin}>Main Page</a></p>\n                </div>);\n        }\n    }\n  \n    const boat = b.data.result.pageContext.boat;\n  \n    return (\n    <OGAProvider>\n        <BoatWrapper boat={boat} location={location} linkComponent={Link} />\n    </OGAProvider>\n  );\n\n  }"],"sourceRoot":""}